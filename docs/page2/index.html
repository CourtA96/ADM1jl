<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Basic Usage · ADM1jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="ADM1jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">ADM1jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Manual</span><ul><li class="is-active"><a class="tocitem" href>Basic Usage</a><ul class="internal"><li><a class="tocitem" href="#Getting-Started"><span>Getting Started</span></a></li><li><a class="tocitem" href="#Modifying-Parameters"><span>Modifying Parameters</span></a></li><li><a class="tocitem" href="#State-Variables-and-their-Indices"><span>State Variables and their Indices</span></a></li></ul></li><li><a class="tocitem" href="../page3/">List of Functions</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Manual</a></li><li class="is-active"><a href>Basic Usage</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Basic Usage</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/CourtA96/ADM1jl/blob/main/docs/src/page2.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Basic-Usage"><a class="docs-heading-anchor" href="#Basic-Usage">Basic Usage</a><a id="Basic-Usage-1"></a><a class="docs-heading-anchor-permalink" href="#Basic-Usage" title="Permalink"></a></h1><p>To solve ADM1 for a single tank reactor, just run <code>ADM1sol</code>. For multiple tanks running in parallel, use <code>multichamberSolution</code></p><h2 id="Getting-Started"><a class="docs-heading-anchor" href="#Getting-Started">Getting Started</a><a id="Getting-Started-1"></a><a class="docs-heading-anchor-permalink" href="#Getting-Started" title="Permalink"></a></h2><p>Before beginning, make sure that the file <code>model_parameters.csv</code> is saved in your working directory. <code>model_parameters.csv</code> can be found on the github <a href="https://github.com/CourtA96/ADM1jl/blob/main/model_parameters.csv">here</a>. </p><p><code>ADM1sol</code> takes the timespan, initial conditions, and inflow vector as inputs. The timespan is length 2 and type <code>Tuple{Float64}</code>. It specifies how the initial and final times of the simulation. The initial conditions and inflow vector both have type <code>Vector{Float64}</code> and length 35.  To test this out, run the following code:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; using ADM1jl</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; u0 = ADM1jl.InitialConditions(); # assigns the default initial conditions to u0</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; IV = ADM1jl.inflowvector_definition(); # assigns the default inflow vector to IV</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; tspan = (0.0,200.0); # the solution will be computed from t=0.0 to t=200.0</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; sol, tSol = ADM1jl.ADM1sol(tspan,u0,IV); # computes the solution  and saves it to sol, the time to solve is saved to tSol</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; sol # the solution has two fields: t contains the timesteps and u contains the solution at each timestep</code><code class="nohighlight hljs ansi" style="display:block;">retcode: Success
Interpolation: specialized 3rd order &quot;free&quot; stiffness-aware interpolation
t: 115-element Vector{Float64}:
   0.0
   1.998068760796162e-5
   3.341468554331606e-5
   3.988122832624887e-5
   4.4680235201568236e-5
   4.794627727453984e-5
   5.0952331938662506e-5
   5.362905748672321e-5
   5.577698080992574e-5
   5.59591935316201e-5
   ⋮
   8.609164585998075
  11.792384122076196
  17.23534599428072
  27.65259736037021
  40.9934159708475
  60.77931802713721
  89.13707315427706
 133.678905885535
 200.0
u: 115-element Vector{Vector{Float64}}:
 [0.012, 0.0053, 0.099, 0.012, 0.013, 0.016, 0.2, 2.3e-7, 0.055, 0.15  …  0.013, 0.016, 0.2, 0.14, 0.0041, 0.04, 0.02, 1.02e-5, 1.63, 0.014]
 [0.011999986305998722, 0.005299528080754454, 0.09899995851630547, 0.011999757994309943, 0.013000244814496508, 0.015999974836690346, 0.19999987668832014, 2.3401029375177689e-7, 0.05500093731160939, 0.15000108782030885  …  0.013000159436964311, 0.015999970507271203, 0.19999977215565246, 0.14093963528890685, 0.004127911003920925, 0.04, 0.02, 1.0200056486177253e-5, 1.6300010043803432, 0.013987846051651676]
 [0.011999977102201841, 0.005299211849244109, 0.09899993070591713, 0.011999595199349622, 0.013000409099486977, 0.015999957894011495, 0.19999984913764737, 2.3462131401959785e-7, 0.05500151446755541, 0.15000380034967298  …  0.013000313521295812, 0.015999946335854873, 0.19999964945541363, 0.1415212292753339, 0.004146669662439726, 0.04, 0.02, 1.0200111031499442e-5, 1.630003893522008, 0.01395723325778608]
 [0.01199997267285494, 0.005299059933102669, 0.09899991732837085, 0.011999516807541343, 0.013000488081982675, 0.015999949717195445, 0.19999985166543557, 2.347293069533868e-7, 0.055001776916148076, 0.15000562388554228  …  0.013000386918303651, 0.015999931239462844, 0.19999957058322893, 0.1417877072042461, 0.00415569574693518, 0.04, 0.02, 1.0200145033126272e-5, 1.6300064891566448, 0.013936637777305555]
 [0.011999969386113186, 0.005298947319276687, 0.09899990740392622, 0.011999458618243508, 0.013000546656182773, 0.015999943639550377, 0.19999986014700516, 2.3474406467471658e-7, 0.055001965283821, 0.1500071824509174  …  0.013000438625344519, 0.015999916159724275, 0.19999947696986942, 0.14197999936663422, 0.0041623915318146935, 0.04, 0.02, 1.0200174359689561e-5, 1.6300090584027846, 0.013919032066060481]
 [0.011999967149464337, 0.005298870740171685, 0.09899990065057425, 0.011999419010167864, 0.013000586499471117, 0.015999939497968046, 0.19999986913024304, 2.3474522959959367e-7, 0.05500209036090212, 0.15000833975670527  …  0.013000470481880305, 0.015999901501279105, 0.19999936812481842, 0.1421082301384086, 0.004166946010324206, 0.04, 0.02, 1.0200196512193376e-5, 1.630011157417349, 0.013905958298756526]
 [0.011999965091000644, 0.005298800301401363, 0.09899989443528127, 0.011999382550373399, 0.013000623156476359, 0.015999935682081648, 0.19999987969147337, 2.3474488799855715e-7, 0.055002203256657285, 0.15000947223645938  …  0.013000493702415057, 0.01599988011394127, 0.19999918140535206, 0.14222433850204402, 0.004171134331226857, 0.04, 0.02, 1.0200218587470163e-5, 1.630013359837308, 0.01389316476641871]
 [0.011999963258166062, 0.005298737615364131, 0.09899988890125047, 0.01199935008118014, 0.01300065578569865, 0.01599993228099467, 0.19999989094073073, 2.347444987540964e-7, 0.05500230199803541, 0.15001053370926534  …  0.01300049826251715, 0.015999840500626243, 0.19999877915797137, 0.14232604017076153, 0.004174856025265061, 0.04, 0.02, 1.0200239681291e-5, 1.6300155516628245, 0.013881173393149072]
 [0.01199996178749697, 0.005298687337685513, 0.09899988446073249, 0.011999324023898476, 0.01300068196078733, 0.01599992954959562, 0.1999999012174798, 2.3474418112539864e-7, 0.05500238002558099, 0.15001142074354162  …  0.013000388322034054, 0.015999666872248287, 0.19999673918914604, 0.1424052653887559, 0.004177800388075795, 0.04, 0.02, 1.02002576323418e-5, 1.6300174749013072, 0.013871152739877324]
 [0.011999961662742068, 0.005298683073531872, 0.09899988408404545, 0.011999321813301279, 0.013000684180943878, 0.01599992931779467, 0.1999999021395164, 2.347441524718461e-7, 0.055002386596366144, 0.15001149737441244  …  0.013000321279075213, 0.015999580623548823, 0.19999568545398935, 0.14241127765294348, 0.004178030475579708, 0.04, 0.02, 1.0200259198299479e-5, 1.6300176449752604, 0.013870287064082722]
 ⋮
 [0.011957024281388772, 0.005313145376836529, 0.09946648787238688, 0.011654600434373587, 0.013284591926146994, 0.015582479107210874, 0.19687288370645853, 2.3471110437262594e-7, 0.055090582310417024, 0.15254315137788282  …  0.013254497202185777, 0.015542110712389683, 0.1964857276371254, 0.14264329781345514, 0.004079056450750521, 0.04, 0.02, 1.018738960428329e-5, 1.6256583127128807, 0.014149764848711631]
 [0.01195654102848209, 0.005313458937485294, 0.09929418665370938, 0.01164865507208881, 0.013277787588848837, 0.015622266425532707, 0.1969233866233376, 2.3495538589926901e-7, 0.05508947273111594, 0.15256470528506616  …  0.01324771163060618, 0.015581799489349265, 0.19653617435469634, 0.14266448807174104, 0.004080233092909001, 0.04, 0.02, 1.0198005071695315e-5, 1.6256250660754588, 0.01415028486767014]
 [0.011955980109704207, 0.00531386295705003, 0.09907802169827609, 0.011641137972864016, 0.01326918658109571, 0.01567308648104798, 0.19702187144497735, 2.352672348101359e-7, 0.055089337416742594, 0.1525933902838197  …  0.013239136031666108, 0.015632495938305287, 0.1966345420022493, 0.14269314307170092, 0.004082029933356304, 0.04, 0.02, 1.0211565080365322e-5, 1.625621749084325, 0.014150328062007254]
 [0.011955371939386264, 0.0053143158605383585, 0.09883944038665217, 0.011632771464264816, 0.013259614089760997, 0.015730175804749624, 0.1971596873487173, 2.3561696730430503e-7, 0.05508926775843366, 0.15263045101863412  …  0.013229592968515834, 0.01568944795667104, 0.19677218711874223, 0.14273019624934105, 0.004084370204919226, 0.04, 0.02, 1.0226772178030066e-5, 1.625620443499663, 0.01415033918241631]
 [0.011955036272014314, 0.0053145727297110815, 0.0987062051950052, 0.011628053850075558, 0.013254216446260576, 0.015762608072920514, 0.1972650063546642, 2.358156012903638e-7, 0.05508923137310232, 0.15265675340982643  …  0.01322421304832514, 0.015721803754039324, 0.19687737030075056, 0.14275649532397347, 0.004086034426312779, 0.04, 0.02, 1.0235409193646683e-5, 1.6256197935003422, 0.014150344102072282]
 [0.011954879037458292, 0.005314697865111298, 0.09864241740321439, 0.011625770979812398, 0.01325160448275435, 0.01577837229712297, 0.197339362116905, 2.3591236791138904e-7, 0.05508921431514828, 0.1526741080818041  …  0.013221610629336295, 0.015737532123255283, 0.19695162694908167, 0.1427738486162467, 0.004087134222202541, 0.04, 0.02, 1.0239616823376926e-5, 1.6256194976733636, 0.014150346161797715]
 [0.011954836213455822, 0.00531473416356305, 0.09862432560165917, 0.011625114587568658, 0.013250853454556363, 0.01578291681184238, 0.19737459437098553, 2.3594040068890368e-7, 0.05508920948740529, 0.15268186309600545  …  0.013220862924643861, 0.01574206708874299, 0.19698681099245025, 0.14278160328937375, 0.0040876262817559055, 0.04, 0.02, 1.024083576246797e-5, 1.6256194164919724, 0.014150346675181056]
 [0.011954830158706282, 0.0053147398286552405, 0.09862158138802907, 0.01162501321766733, 0.013250737466870395, 0.015783619896173714, 0.1973850412510544, 2.3594476937421984e-7, 0.05508920874769569, 0.15268406799526774  …  0.013220747661280148, 0.015742768982620215, 0.1969972433244719, 0.14278380814515448, 0.004087766294494727, 0.04, 0.02, 1.0241025727130154e-5, 1.6256194045086088, 0.014150346741486993]
 [0.011954829810563401, 0.0053147401832121036, 0.09862141249882697, 0.011625006887037806, 0.013250730223207484, 0.015783663823179507, 0.19738633671962316, 2.3594504387169125e-7, 0.05508920869990237, 0.15268433594303998  …  0.013220740490142689, 0.015742812872396397, 0.1969985369743189, 0.1427840760901829, 0.004087783314163287, 0.04, 0.02, 1.0241037663368444e-5, 1.6256194037384155, 0.014150346745679485]</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; tSol # this is the time ExampleSol took to solve the system</code><code class="nohighlight hljs ansi" style="display:block;">42.68536563</code></pre><p>The initial conditions and inflow vector can be changed to any <code>Vector{Float64}</code> of length 35. For a version of the code that is even more flexible, use <code>ADM1sol</code>.</p><h2 id="Modifying-Parameters"><a class="docs-heading-anchor" href="#Modifying-Parameters">Modifying Parameters</a><a id="Modifying-Parameters-1"></a><a class="docs-heading-anchor-permalink" href="#Modifying-Parameters" title="Permalink"></a></h2><p>To change the system parameters, such as <code>T_base</code> or <code>P_atm</code>, just open the file <code>model_parameters.csv</code> in the <code>src</code> directory. Edit whichever entries are necessary, save, and exit. Running <code>ADM1sol</code> again will solve the system with the updated parameters.</p><h2 id="State-Variables-and-their-Indices"><a class="docs-heading-anchor" href="#State-Variables-and-their-Indices">State Variables and their Indices</a><a id="State-Variables-and-their-Indices-1"></a><a class="docs-heading-anchor-permalink" href="#State-Variables-and-their-Indices" title="Permalink"></a></h2><p>The follow table shows which state variable corresponds to each index.</p><table><tr><th style="text-align: center">Index</th><th style="text-align: center">State Variable</th></tr><tr><td style="text-align: center">1</td><td style="text-align: center"><code>S_su</code></td></tr><tr><td style="text-align: center">2</td><td style="text-align: center"><code>S_aa</code></td></tr><tr><td style="text-align: center">3</td><td style="text-align: center"><code>S_fa</code></td></tr><tr><td style="text-align: center">4</td><td style="text-align: center"><code>S_va</code></td></tr><tr><td style="text-align: center">5</td><td style="text-align: center"><code>S_bu</code></td></tr><tr><td style="text-align: center">6</td><td style="text-align: center"><code>S_pr</code></td></tr><tr><td style="text-align: center">7</td><td style="text-align: center"><code>S_ac</code></td></tr><tr><td style="text-align: center">8</td><td style="text-align: center"><code>S_h2</code></td></tr><tr><td style="text-align: center">9</td><td style="text-align: center"><code>S_ch4</code></td></tr><tr><td style="text-align: center">10</td><td style="text-align: center"><code>S_IC</code></td></tr><tr><td style="text-align: center">11</td><td style="text-align: center"><code>S_IN</code></td></tr><tr><td style="text-align: center">12</td><td style="text-align: center"><code>S_I</code></td></tr><tr><td style="text-align: center">13</td><td style="text-align: center"><code>X_xc</code></td></tr><tr><td style="text-align: center">14</td><td style="text-align: center"><code>X_ch</code></td></tr><tr><td style="text-align: center">15</td><td style="text-align: center"><code>X_pr</code></td></tr><tr><td style="text-align: center">16</td><td style="text-align: center"><code>X_li</code></td></tr><tr><td style="text-align: center">17</td><td style="text-align: center"><code>X_su</code></td></tr><tr><td style="text-align: center">18</td><td style="text-align: center"><code>X_aa</code></td></tr><tr><td style="text-align: center">19</td><td style="text-align: center"><code>X_fa</code></td></tr><tr><td style="text-align: center">20</td><td style="text-align: center"><code>X_c4</code></td></tr><tr><td style="text-align: center">21</td><td style="text-align: center"><code>X_pro</code></td></tr><tr><td style="text-align: center">22</td><td style="text-align: center"><code>X_ac</code></td></tr><tr><td style="text-align: center">23</td><td style="text-align: center"><code>X_h2</code></td></tr><tr><td style="text-align: center">24</td><td style="text-align: center"><code>X_I</code></td></tr><tr><td style="text-align: center">25</td><td style="text-align: center"><code>S_va_ion</code></td></tr><tr><td style="text-align: center">26</td><td style="text-align: center"><code>S_bu_ion</code></td></tr><tr><td style="text-align: center">27</td><td style="text-align: center"><code>S_pro_ion</code></td></tr><tr><td style="text-align: center">28</td><td style="text-align: center"><code>S_ac_ion</code></td></tr><tr><td style="text-align: center">29</td><td style="text-align: center"><code>S_hco3_ion</code></td></tr><tr><td style="text-align: center">30</td><td style="text-align: center"><code>S_nh3</code></td></tr><tr><td style="text-align: center">31</td><td style="text-align: center"><code>S_cat</code></td></tr><tr><td style="text-align: center">32</td><td style="text-align: center"><code>S_an</code></td></tr><tr><td style="text-align: center">33</td><td style="text-align: center"><code>S_gas_h2</code></td></tr><tr><td style="text-align: center">34</td><td style="text-align: center"><code>S_gas_ch4</code></td></tr><tr><td style="text-align: center">35</td><td style="text-align: center"><code>S_gas_co2</code></td></tr></table></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../page3/">List of Functions »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Wednesday 12 July 2023 17:00">Wednesday 12 July 2023</span>. Using Julia version 1.7.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
